<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Page 3</h1>
    <a href="page1.html">Page 1</a>
    <br />
    <a href="page2.html">Page 2</a>
    <script>
      window.location.search
        .slice(1)
        .split('&')
        .forEach((elm) => {
          let capturedParam = elm.split('=')[0]
          if (elm === '' || capturedParam.includes('utm_')) return
          let spl = elm.split('=')
          for (var i = document.links.length; i-- > 0; )
            if (document.links[i].hostname === location.hostname) {
              let url = new URL(document.links[i].href)
              url.searchParams.append(elm.split('=')[0], elm.split('=')[1])
              document.links[i].href = url
            }
        })
    </script>
  </body>
</html>
